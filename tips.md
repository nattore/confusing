# Random MDX tips

Incremental approach:
- May consume heavy time in less priority tasks

Top-down approach: (task-weight, multiplier, priority)
- Point to compilation: light, O(1), high
- Front matter docs section: light, O(1), high
- Fix headings: light, O(n), high
- Fix simple tables: medium, O(n), high
- Fix code blocks: medium, O(n), high
- Fix diagram: heavy, O(1), medium
- Fix file (image) links: heavy, O(n), medium
- Fix nested tables: heavy, O(2^n), low
- Fix content formating: heavy, O(n), low
- Front matter custom section: heavy, O(1), low
- Fix whatever remained to be fixed

Tip: make a TODO comment on parts that needs to be fixed (can be searched later)

Caution: do not use any formatting code tool such as prettier (may broke the code)

Caution: be carefull when using regex (may obliterate content)

MDX:
- CommonMark + JSX
- All markdown (.md) are parsed as MDX (.mdx)
- May have compilation (transpilation) errors (MDX -> JSX)
- Special characters needs to be escaped with '\' (use regex)

JSX:
- JavaScript + markup syntax
- Not necessary yet

Folder structure:
- index.md
- ./assets
- Folder naming convention: snake_case?
- Automation script

Point to compilation:
- Proper escaped (mdx | yaml) characters
- YAML is escaped with quotes
- MDX is escaped with backslash

Front matter:
- YAML
- Divided in docs and custom sections
- Docs section contains the docs-plugin keys
- Custom section contains user-defined keys ("metadata of the models")
- Custom section needs to have a specification of key-value format, type and naming convention
- Special characters needs to be escaped
- Required (docs | custom) keys
- Optional (docs | custom) keys

Headings:
- Edge cases (ex. within summary headings is considered in TOC)
- TOC generation
- Links to heading are autogenerated (id)

Tables:
- Need to have a header
- May have nesting tables (aka "migration hell"), considered later in the top-down approach

Code blocks:
- Do not specify a language (syntax highlighting is broken)
- Use "copy and paste" from the web page

Diagrams:
- Mermaid code block
- Alternative migration + fix syntax do the job

Links:
- Use relative paths ('./', '../')
- Absolute paths (starting with '/') resolves to content's root folder ("/docs")
- Autolinks (\<url\>) are unsupported
- Prioritize fixing content's file links (accessed with './assets/file')
- Links to other pages to be fixed needs updated urls ('../other_page' or '/path/to/page')
- Links to global files needs the files to be resolved ('@site/src/img/logo.png')

Nested tables:
- Not supported within markdown syntax
- May contain other nested tables
- Needs to be fixed (spanning over one line -> spanning over multiple lines)
- Content's structure (layout) need to be modified
- Manual intervention is error prone when nesting tables are large ('features' table spanning hundreds lines and multiple columns)
- Automation is difficult for lack of structure
- Workarounds:
  - Transform to simple tables modifying the layout while preserving the semantics
  - Large tables can be collapsed with the <Summary /> component
  - The <Tabs /> component can be used to display several tables (table1 | table2 | ... | tableN)
  - Use of VS Code and Vim macros can help

Content formatting:
- Proper indented lists
- Proper formatted text (**bold**, _italics_, etc)

Front matter custom section:
- Follow the naming convention
